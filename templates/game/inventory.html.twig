{% extends 'base.html.twig' %}

{% block title %}Inventaire{% endblock %}

{% block body %}
<div class="inventory-wrapper">
    <h1>Inventaire</h1>

    <div style="margin-bottom: 1rem;">
        <a href="{{ path('inventory_new') }}" class="btn btn-primary">
            ➕ Ajouter une nouvelle quête
        </a>
    </div>

    {% for item in items|default([]) %}
        <div class="item" style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem;">
            <div>
                <h3>{{ item.name }}</h3>
                <p><strong>Description :</strong> {{ item.description }}</p>
                {% if item.additionalInfo %}
                    <p><strong>Infos supplémentaires :</strong> {{ item.additionalInfo }}</p>
                {% endif %}
            </div>

            <div style="white-space: nowrap;">
                <a href="{{ path('inventory_edit', {'id': item.id}) }}" 
                   aria-label="Modifier {{ item.name }}" 
                   class="text-warning" 
                   style="font-size: 1.2rem; text-decoration: none; margin-right: 0.5rem;">
                    ✏️
                </a>

                <form method="post" action="{{ path('inventory_delete', {'id': item.id}) }}" 
                      style="display:inline;" 
                      onsubmit="return confirm('Supprimer cet objet ?');">
                    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ item.id) }}">
                    <button type="submit" 
                            aria-label="Supprimer {{ item.name }}" 
                            class="btn btn-link p-0 text-danger" 
                            style="font-size: 1.2rem; text-decoration: none;">
                        🗑️
                    </button>
                </form>
            </div>
        </div>
    {% else %}
        <p>Aucun objet dans l'inventaire.</p>
    {% endfor %}
</div>
{% endblock %}
