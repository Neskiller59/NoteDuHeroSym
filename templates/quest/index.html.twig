{% extends 'base.html.twig' %}

{% block title %}Quêtes{% endblock %}

{% block body %}
<div class="inventory-wrapper">
    <h1>Quêtes</h1>

    <a href="{{ path('quest_new') }}" class="btn btn-success mb-3">➕ Nouvelle Quête</a>

    {% for quest in quests %}
        <div class="item" style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem;">
            <div>
                <h3>{{ quest.name }}</h3>
                <p><strong>Objectif :</strong> {{ quest.objectif }}</p>
                {% if quest.information %}
                    <p><strong>Informations supplémentaires :</strong> {{ quest.information }}</p>
                {% endif %}
                {% if quest.origine %}
                    <p><strong>Origine :</strong> {{ quest.origine }}</p>
                {% endif %}
            </div>

            <div style="white-space: nowrap;">
                <a href="{{ path('quest_edit', {'id': quest.id}) }}" class="text-warning me-2">✏️</a>
                <form method="post" action="{{ path('quest_delete', {'id': quest.id}) }}" style="display:inline;" onsubmit="return confirm('Supprimer cette quête ?');">
                    <button type="submit" class="btn btn-link p-0 text-danger">🗑️</button>
                </form>
            </div>
        </div>
    {% else %}
        <p>Aucune quête disponible.</p>
    {% endfor %}
</div>
{% endblock %}
